<ui:composition template="/WEB-INF/templates/page.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
>
	<ui:define name="content">
		<c:if test="#{not activeUser.present}">
			<h:form id="login">
				<fieldset>
					<h:outputLabel for="email" value="#{text['label.email']}" />
					<h:inputText id="email" required="true" value="#{login.email}" />
					<h:message for="email" styleClass="message" />
	
					<h:outputLabel for="password" value="#{text['label.password']}" />
					<h:inputSecret id="password" required="true" value="#{login.password}" />
					<h:message for="password" styleClass="message" />
	
					<footer>
						<h:commandButton id="submit" action="#{login.submit}" value="#{text['label.login']}" />
						<h:message for="login" styleClass="message" />
					</footer>
				</fieldset>
			</h:form>
		</c:if>
		<c:if test="#{activeUser.present}">
			<h3>Welcome!</h3>
			<p>You're logged in as #{activeUser}</p>
			<p>Your user ID is #{activeUser.id}</p>
			<p>You are #{activeUser.is('ADMIN') ? '' : 'not'} an admin user.</p>
		</c:if>
	</ui:define>
</ui:composition>